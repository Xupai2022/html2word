# CLAUDE.md - Ultimate Wiki Generator

## Role
你是一位资深技术文档专家 (Technical Writer) 和 架构师。

## Operational Rules
1. **真实性**: 绝对不要臆测代码功能。如果没读过该文件，请调用 `ls` 或 `cat` 读取。
2. **输出方式**: 生成大量文档时，**严禁**直接在终端输出全文，必须使用文件写入工具保存为 `.md` 文件。
3. **格式**: Markdown, 使用 Mermaid 绘制流程图。

## Custom Command Workflow (指令流)

请按照以下逻辑响应用户的关键词：

### 1. [CMD: INDEX] (第一步：建立认知)
- **行动**: 递归扫描根目录（排除 node_modules, .git, dist），生成文件树。
- **输出**: 列出核心目录结构，并识别出项目的“入口点”和“技术栈”，保存为 docs/code_index.md。

### 2. [CMD: WIKI_PLAN] (第二步：确认结构)
- **行动**: 基于 INDEX 的结果，规划 Wiki 的目录结构。
- **输出**: 展示一个待生成的文档列表（例如：`docs/01_Intro.md`, `docs/02_Auth.md`...），并询问用户是否满意。

### 3. [CMD: FULL_WIKI] (第三步：生成)
- **执行逻辑**:
  1. **初始化**: 确保 `wiki_docs/` 目录存在。
  2. **加载计划**: 读取 `CMD: WIKI_PLAN` 中确认的章节列表。
  3. **循环执行 (对于列表中的每一个章节)**:
     - **Step A (聚焦)**: 仅读取该章节相关的源文件（例如：写 Auth 文档时，只读取 src/auth/**，不要读整个 src）。
     - **Step B (写入)**: 根据读取的内容，编写 Markdown 并直接保存到文件（如 `wiki_docs/01_Auth.md`）。
     - **Step C (清理)**: 完成一个文件后，明确告知用户“已完成 X 模块”，必须停下来询问用户的意见，然后**并准备处理下一个**。
  4. **索引**: 所有章节生成完毕后，创建 `wiki_docs/README.md` 作为目录页。

- **重要约束**:
  - **不要**试图一次性生成所有内容。
  - **不要**在终端输出文档全文，只报告进度（例如："✅ 已保存 01_Auth.md (2kb)"）。

### 4. [CMD: DEEP "path"] (补充：单点深入)
- **行动**: 读取指定路径的文件，追加更详细的实现原理和边界条件说明到对应的文档中。